<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>databse test</title>
	<style type="text/css">
		#from_js {
			width: 10vh;
			height: 10vh;
			transform: translate(-50%,-50%);
			position: fixed;
			border: 0.2vh solid #000;
			border-radius: 50%;
		}

		#from_database {
			width: 5vh;
			height: 5vh;			
			position: fixed;
			transform: translate(-50%,-50%);
			background: #FFCA28;
			border-radius: 50%;
		}
	</style>
</head>
<body>
	<div id="from_js"></div>
	<div id="from_database"></div>

	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-database.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-analytics.js"></script>

	<script>
	  // Your web app's Firebase configuration
	  var firebaseConfig = {
	    apiKey: "AIzaSyA5EtM_Fpt6RjIH2Py1wlFO2GJnSZFms4c",
	    authDomain: "aai-database-01.firebaseapp.com",
	    databaseURL: "https://aai-database-01.firebaseio.com",
	    projectId: "aai-database-01",
	    storageBucket: "aai-database-01.appspot.com",
	    messagingSenderId: "81794330347",
	    appId: "1:81794330347:web:36a965d9973f836c2458ae",
	    measurementId: "G-EMTZ00K0W9"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	  firebase.analytics();
	</script>

	<script type="text/javascript">
		const database = firebase.database();
		const path0 = '/github/github_io/test_06_data/0';
		const path1 = '/github/github_io/test_06_data/1';

		const from_js = document.getElementById('from_js').style;
		const from_database = document.getElementById('from_database').style;
	    
		const display_w = document.documentElement.clientWidth;
		const display_h = document.documentElement.clientHeight;



	    document.addEventListener("mousemove", e => {
	    	let Xvw = Math.round(e.clientX/display_w * 10000)/100;
	    	let Yvh = Math.round(e.clientY/display_h * 10000)/100;
	    	
	        from_js.left = Xvw + "vw";
	        from_js.top = Yvh + "vh";

        	database.ref(path0).set({
	        	mouse_x: Xvw,
	        	mouse_y: Yvh
			});	        
	    });

		// database.ref(path).orderByKey().on('value', snapshot => {
	 //        from_database.left = snapshot.child('mouse_x').val() + "vw";
	 //        from_database.top = snapshot.child('mouse_y').val() + "vh";
		// });
		// setInterval(function() {
			database.ref(path0).on('value', snapshot => {
		        from_database.left = snapshot.child('mouse_x').val() + "vw";
		        from_database.top = snapshot.child('mouse_y').val() + "vh";
			});
		// },1);

	</script>
</body>
</html>